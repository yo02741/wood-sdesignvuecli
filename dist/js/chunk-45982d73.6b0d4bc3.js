(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45982d73"],{1148:function(t,a,i){"use strict";var e=i("a691"),s=i("1d80");t.exports="".repeat||function(t){var a=String(s(this)),i="",n=e(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(a+=a))1&n&&(i+=a);return i}},"38cf":function(t,a,i){var e=i("23e7"),s=i("1148");e({target:"String",proto:!0},{repeat:s})},"99af":function(t,a,i){"use strict";var e=i("23e7"),s=i("d039"),n=i("e8b5"),o=i("861d"),c=i("7b0b"),r=i("50c4"),d=i("8418"),l=i("65f0"),u=i("1dde"),p=i("b622"),f=i("2d00"),g=p("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",v=f>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!o(t))return!1;var a=t[g];return void 0!==a?!!a:n(t)},_=!v||!b;e({target:"Array",proto:!0,forced:_},{concat:function(t){var a,i,e,s,n,o=c(this),u=l(o,0),p=0;for(a=-1,e=arguments.length;a<e;a++)if(n=-1===a?o:arguments[a],C(n)){if(s=r(n.length),p+s>h)throw TypeError(m);for(i=0;i<s;i++,p++)i in n&&d(u,p,n[i])}else{if(p>=h)throw TypeError(m);d(u,p++,n)}return u.length=p,u}})},c975:function(t,a,i){"use strict";var e=i("23e7"),s=i("4d64").indexOf,n=i("a640"),o=i("ae40"),c=[].indexOf,r=!!c&&1/[1].indexOf(1,-0)<0,d=n("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:r||!d||!l},{indexOf:function(t){return r?c.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},e6dc:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"app"}},[i("loading",{attrs:{loader:"bars",color:"#86FFF8","background-color":"#B38C4D",active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("div",{staticClass:"jumbotron jumbotron-fluid productsjumbotron"},[i("nav",{staticClass:"navbar navbar-expand-lg navClass py-3"},[i("h1",{attrs:{"data-aos":"fade-down","data-aos-easing":"linear","data-aos-duration":"500"}},[i("router-link",{staticClass:"navbar-brand text-white\n          font-weight-bold logo",attrs:{to:"/"}},[t._v("木's design")])],1),t._m(0),i("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarSupportedContent","data-aos":"fade-down","data-aos-easing":"linear","data-aos-duration":"500"}},[i("ul",{staticClass:"navbar-nav"},[i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link px-4 font-weight-bold",attrs:{to:"/aboutus"}},[t._v("關於我們")])],1),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link px-4 font-weight-bold",attrs:{to:"/sustainability"}},[t._v("永續經營")])],1),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link px-4 font-weight-bold",attrs:{to:"/products"}},[t._v("產品列表")])],1),i("li",{staticClass:"nav-item"},[i("router-link",{staticClass:"nav-link px-4 font-weight-bold",attrs:{to:"/cart"}},[t._v("購物車")])],1)])])])]),i("div",{staticClass:"container d-none productsmain",class:{"d-block":t.products!==[]}},[i("div",{staticClass:"row productcategory"},[i("div",{staticClass:"col-12"},[i("ul",{staticClass:"d-flex flex-column flex-md-row justify-content-center text-center pl-0"},[i("li",{staticClass:"item"},[i("a",{class:{active:"全部"===t.categoryNow},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getProducts(a)}}},[t._v("全部")])]),t._l(t.category,(function(a,e){return i("li",{key:e,staticClass:"item"},[i("a",{class:{active:t.categoryNow===a},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.getProductsCategory(a)}}},[t._v(t._s(a))])])}))],2)])]),i("ul",{staticClass:"row productlist pl-0"},t._l(t.products,(function(a){return i("li",{key:a.id,staticClass:"col-12 col-md-6 col-lg-4 my-4"},[i("div",{staticClass:"card mx-auto"},[i("div",{staticClass:"cardimg",style:{backgroundImage:"url('"+a.imageUrl[0]+"')"}},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"title d-flex justify-content-between align-items-center mb-4"},[i("h4",{staticClass:"card-title mb-0 w-75 font-weight-bold"},[t._v(t._s(a.title))]),i("span",{staticClass:"badge badge-secondary"},[t._v(t._s(a.category))])]),a.price&&a.price!==a.origin_price?i("div",{staticClass:"price d-flex justify-content-between align-items-end"},[i("del",[i("span",[t._v("$")]),t._v(t._s(a.origin_price))]),i("div",[i("span",{staticClass:"text-danger h3 mx-1"},[t._v("$ "+t._s(a.price))])])]):i("div",{staticClass:"d-flex justify-content-end align-items-end"},[i("div",[t._v("$"),i("span",{staticClass:"h3 mx-1"},[t._v(t._s(a.origin_price))])])])])]),i("div",{staticClass:"card-footer d-flex justify-content-between align-items-center"},[i("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.getProduct(a.id)}}},[t._v("查看更多")]),i("a",{staticClass:"btn btn-sm btn-danger",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.addToCart(a.id)}}},[t._v("加入購物車")])])])])})),0),0==!Object.keys(t.pagination).length?i("pagination",{staticClass:"col-12",attrs:{pages:t.pagination},on:{update:t.getProducts}}):t._e()],1),i("div",{staticClass:"container-fluid footer bg-primary text-center"},[i("div",{staticClass:"container py-4"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4 mb-4 mb-md-0 d-flex flex-column\n                justify-content-center align-items-center"},[i("router-link",{staticClass:"h1 text-white font-weight-bold px-4 logo",attrs:{to:"/"}},[t._v("木's design")])],1),t._m(1),i("div",{staticClass:"col-md-4"},[i("ul",{staticClass:"d-flex justify-content-around  align-items-center mb-0 pl-0"},[i("li",[i("a",{staticClass:"icon",attrs:{href:"https://www.facebook.com/profile.php?id=100003064961458"}},[i("font-awesome-icon",{attrs:{icon:["fab","facebook"]}})],1)]),i("li",[i("a",{staticClass:"icon",attrs:{href:"https://www.instagram.com/8736.yo/"}},[i("font-awesome-icon",{attrs:{icon:["fab","instagram"]}})],1)]),i("li",[i("a",{staticClass:"icon",attrs:{href:"https://github.com/yo02741"}},[i("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)]),i("li",[i("a",{staticClass:"icon",attrs:{href:"https://codepen.io/yo02741"}},[i("font-awesome-icon",{attrs:{icon:["fab","codepen"]}})],1)])])])])])]),i("div",{staticClass:"modal fade",attrs:{id:"detailProductModal",tabindex:"-1","aria-labelledby":"detailProductModalLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-dialog-centered "},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title font-weight-bold",attrs:{id:"detailProductModalLabel"}},[t._v(t._s(t.tempProduct.title))]),t._m(2)]),i("div",{staticClass:"modal-body d-flex flex-column"},[i("h3",{staticClass:"mt-4 text-center"},[t._v(t._s(t.tempProduct.description))]),i("p",{staticClass:"mt-4 text-right"},[t._v(" — "+t._s(t.tempProduct.content))]),i("div",{staticClass:"mt-4"},[t.tempProduct.price&&t.tempProduct.price!==t.tempProduct.origin_price?i("div",{staticClass:"price d-flex justify-content-between align-items-end"},[i("del",[i("span",[t._v("$")]),t._v(t._s(t.tempProduct.origin_price)+"/"+t._s(t.tempProduct.unit))]),i("div",[i("span",{staticClass:"text-danger h3 mx-1"},[t._v("$ "+t._s(t.tempProduct.price))]),t._v("/"+t._s(t.tempProduct.unit))])]):i("div",[i("div",{staticClass:"text-right"},[t._v("$"),i("span",{staticClass:"h3 mx-1"},[t._v(t._s(t.tempProduct.price))]),t._v("/"+t._s(t.tempProduct.unit))])])]),i("div",{staticClass:"form-group mt-4 mb-0"},[i("label",{staticClass:"sr-only",attrs:{for:"num"}},[t._v("數量")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.num,expression:"tempProduct.num"}],staticClass:"form-control",attrs:{id:"num"},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.tempProduct,"num",a.target.multiple?i:i[0])},t.change]}},[i("option",{attrs:{value:"0",selected:"",disabled:""}},[t._v("請選擇數量")]),t._l(10,(function(a,e){return i("option",{key:e,domProps:{value:a}},[t._v(t._s(a))])}))],2)])]),i("div",{staticClass:"modal-footer"},[0!=t.tempProduct.num?i("span",{staticClass:"text-secondary mr-4"},[t._v("小計"),i("strong",{staticClass:"mx-2"},[t._v(t._s(t.tempProduct.price*t.tempProduct.num))]),t._v("元")]):t._e(),i("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:0===t.tempProduct.num},on:{click:function(a){return a.preventDefault(),t.addToCart(t.tempProduct.id,t.tempProduct.num)}}},[t._v("加入購物車")])])])])])],1)},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[i("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"col-md-4 mb-4 mb-md-0 d-flex flex-column\n                justify-content-center align-items-center"},[i("p",{staticClass:"text-white mb-0"},[t._v("Copyright © 2020 木's design")]),i("p",{staticClass:"text-white mb-0"},[t._v("純屬練習，不做商業行為。")]),i("p",{staticClass:"text-white mb-0"},[t._v("圖片來源：unsplash、pexels")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],n=(i("99af"),i("4de4"),i("4160"),i("c975"),i("b64b"),i("38cf"),i("159b"),i("1157")),o=i.n(n),c={data:function(){return{products:[],tempProduct:{imageUrl:[],num:0},categoryNow:"全部",category:[],pagination:{},isLoading:!1,api:{uuid:"3f7b1d29-d350-4de5-92ca-9b0bdfb7ca45",apiPath:"https://course-ec-api.hexschool.io/"},cart:{},cartTotal:0}},methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i="".concat(this.api.apiPath,"api/").concat(this.api.uuid,"/ec/products?page=").concat(a);this.isLoading=!0,this.categoryNow="全部",this.$http.get(i).then((function(a){t.isLoading=!1,t.products=a.data.data,t.pagination=a.data.meta.pagination,t.products.forEach((function(a){t.category.push(a.category)})),t.category=t.category.filter((function(t,a,i){return i.indexOf(t)===a}))})).catch((function(a){t.isLoading=!1}))},getProductsCategory:function(t){var a=this,i="".concat(this.api.apiPath,"api/").concat(this.api.uuid,"/ec/products?page=1");this.categoryNow=t,this.isLoading=!0,this.$http.get(i).then((function(i){a.isLoading=!1,a.products=i.data.data,a.pagination={},a.products=a.products.filter((function(a){return a.category===t}))})).catch((function(t){a.isLoading=!1}))},getProduct:function(t){var a=this,i="".concat(this.api.apiPath,"api/").concat(this.api.uuid,"/ec/product/").concat(t);this.isLoading=!0,this.$http.get(i).then((function(t){a.isLoading=!1,a.tempProduct=t.data.data,a.$set(a.tempProduct,"num",0),o()("#detailProductModal").modal("show")})).catch((function(t){a.isLoading=!1}))},getCart:function(){var t=this,a="".concat(this.api.apiPath,"api/").concat(this.api.uuid,"/ec/shopping");this.isLoading=!0,this.$http.get(a).then((function(a){t.cartTotal=0,t.isLoading=!1,t.cart=a.data.data})).catch((function(a){t.isLoading=!1}))},change:function(){this.tempProduct.num=parseInt(o()("#num").val(),10)},addToCart:function(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat(this.api.apiPath,"api/").concat(this.api.uuid,"/ec/shopping");if(this.cart.forEach((function(i){i.product.id===t&&(a.repeat=!0)})),0===Object.keys(this.cart).length||!1===this.repeat){var s={product:t,quantity:i};this.isLoading=!0,this.$http.post(e,s).then((function(t){a.isLoading=!1,a.getCart(),a.$swal.fire({icon:"success",title:"已加入購物車！",text:"",confirmButtonColor:"#B38C4D"})})).catch((function(t){a.isLoading=!1,a.getCart()}))}else this.cart.forEach((function(e){e.product.id===t&&(i+=e.quantity,a.changeQuantity(t,i),a.$swal.fire({icon:"success",title:"已加入購物車！",text:"",confirmButtonColor:"#B38C4D"}))}));this.repeat=!1,o()("#detailProductModal").modal("hide")},changeQuantity:function(t,a){var i=this,e="".concat(this.api.apiPath,"api/").concat(this.api.uuid,"/ec/shopping"),s={product:t,quantity:a};this.isLoading=!0,this.$http.patch(e,s).then((function(t){i.isLoading=!1,i.getCart()})).catch((function(t){i.isLoading=!1,i.getCart()}))}},created:function(){this.getProducts(),this.getCart()}},r=c,d=i("2877"),l=Object(d["a"])(r,e,s,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-45982d73.6b0d4bc3.js.map